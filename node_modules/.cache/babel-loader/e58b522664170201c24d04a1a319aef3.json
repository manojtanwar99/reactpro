{"ast":null,"code":"import _objectSpread from\"/Users/manojtanwar/Desktop/react-sxnilq/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/manojtanwar/Desktop/react-sxnilq/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import'./card.css';import Details from'./details';import Card from'react-bootstrap/Card';import Button from'react-bootstrap/Button';import debounce from\"lodash.debounce\";import{BrowserRouter as Router,Link,Switch,Route}from\"react-router-dom\";import{throttle}from\"lodash\";export default function Carts(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),orignalActorArr=_useState4[0],setorignalActorArr=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loader=_useState6[0],setloader=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),cardsArr=_useState8[0],setcardsArr=_useState8[1];var results=[];// let orignalActorArr=[];\nvar actorArr=[];var total;var setResposneData=function setResposneData(data,start,end){return data.splice(start,end);};useEffect(function(){return throttled.current(value);},[value]);var throttled=useRef(throttle(function(newValue){if(newValue){getDataByFilter(newValue);}else if(newValue===\"\"){getDataByFilter(\"a\");}},3000));function getDataByFilter(value){setloader(true);if(localStorage.getItem(\"actors\")&&value===\"a\"){var result=JSON.parse(localStorage.getItem(\"actors\"));setorignalActorArr(result);setcardsArr(setResposneData(result,0,12));setloader(false);return;}fetch('https://cors-anywhere.herokuapp.com/https://superheroapi.com/api/3070399882980494/search/'+value).then(function(response){return response.json().then(function(response){if(response.results&&response.results.length>0){results=response.results.map(function(item,i){return _objectSpread(_objectSpread(_objectSpread({},item.image),item.biography),{},{\"id\":i});});//orignalActorArr = results;\nsetorignalActorArr(results);total=results.length;if(total>12){actorArr=setResposneData(results,0,12);}else{actorArr=results;}if(value===\"a\"){localStorage.setItem(\"actors\",JSON.stringify(results));}setcardsArr(actorArr);setloader(false);}});});}window.onscroll=debounce(function(){if(window.innerHeight+document.documentElement.scrollHeight>=document.scrollingElement.offsetHeight){// actorArr.concat(orignalActorArr.splice(actorArr.length, 12));\n//var next = orignalActorArr.splice(0 ,24)\nsetcardsArr(function(cardsArr){return cardsArr.concat(orignalActorArr.splice(actorArr.length,actorArr.length+12));});}},100);useEffect(function(){getDataByFilter(\"a\");},[]);return/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/reactpro\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group has-success has-feedback\"},/*#__PURE__*/React.createElement(\"label\",{className:\"col-sm-2 control-label\",for:\"inputSuccess\"},\"Search\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",id:\"inputSuccess\",onChange:function onChange(e){return setValue(e.target.value);}}),/*#__PURE__*/React.createElement(\"span\",{className:\"glyphicon glyphicon-ok form-control-feedback\"})),!loader?cardsArr.map(function(data){return/*#__PURE__*/React.createElement(Link,{to:\"/reactpro/\".concat(data[\"id\"]),params:data},/*#__PURE__*/React.createElement(Card,{style:{width:'18rem',margin:\"10px\",display:\"inline-block\"}},data.url?/*#__PURE__*/React.createElement(Card.Img,{variant:\"top\",src:data.url}):/*#__PURE__*/React.createElement(Card.Img,{variant:\"top\",src:\"https://www.superherodb.com/pictures2/portraits/10/100/1508.jpg\"}),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Card.Title,null,data.name),/*#__PURE__*/React.createElement(Card.Text,null,data[\"full-name\"],/*#__PURE__*/React.createElement(\"br\",null),data[\"place-of-birth\"],/*#__PURE__*/React.createElement(\"br\",null),data.publisher),/*#__PURE__*/React.createElement(Button,{variant:\"primary\"},\"More Details\"))));}):/*#__PURE__*/React.createElement(\"div\",{className:\"loader\"}))),/*#__PURE__*/React.createElement(Route,{path:\"reactpro/:id\",render:cardsArr.length>0?function(props){return/*#__PURE__*/React.createElement(Details,Object.assign({},props,{data:cardsArr}));}:\"\"})));}","map":{"version":3,"sources":["/Users/manojtanwar/Desktop/react-sxnilq/src/ui-component/cards/Carts.js"],"names":["React","useState","useEffect","useRef","Details","Card","Button","debounce","BrowserRouter","Router","Link","Switch","Route","throttle","Carts","value","setValue","orignalActorArr","setorignalActorArr","loader","setloader","cardsArr","setcardsArr","results","actorArr","total","setResposneData","data","start","end","splice","throttled","current","newValue","getDataByFilter","localStorage","getItem","result","JSON","parse","fetch","then","response","json","length","map","item","i","image","biography","setItem","stringify","window","onscroll","innerHeight","document","documentElement","scrollHeight","scrollingElement","offsetHeight","concat","e","target","width","margin","display","url","name","publisher","props"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './card.css'\nimport Details from './details'\nimport Card from 'react-bootstrap/Card'\nimport Button from 'react-bootstrap/Button'\nimport debounce from \"lodash.debounce\";\n\nimport {\n  BrowserRouter as Router,\n  Link,\n  Switch,\n  Route\n\n} from \"react-router-dom\";\n\nimport { throttle } from \"lodash\";\nexport default function Carts() {\n  \n  const [value, setValue] = useState(\"\")\n  const [orignalActorArr, setorignalActorArr] = useState([])\n  const [loader, setloader] = useState(false)\n  const [cardsArr, setcardsArr] = useState([])\n  let results = []\n  // let orignalActorArr=[];\n  let actorArr = [];\n  let total;\n\n  const setResposneData = (data, start, end) => {\n    return data.splice(start, end);\n  }\n  \n  useEffect(() => throttled.current(value), [value]);\n\n  const throttled = useRef(throttle((newValue) => {\n    if (newValue) {\n      getDataByFilter(newValue)\n    } else if (newValue === \"\") {\n      getDataByFilter(\"a\")\n    }\n\n  }, 3000));\n\n  function getDataByFilter(value) {\n\n\n    setloader(true)\n    if (localStorage.getItem(\"actors\") && value === \"a\") {\n      let result = JSON.parse(localStorage.getItem(\"actors\"))\n      setorignalActorArr(result)\n      setcardsArr(setResposneData(result, 0, 12))\n      setloader(false)\n      return\n    }\n\n    fetch('https://cors-anywhere.herokuapp.com/https://superheroapi.com/api/3070399882980494/search/' + value).then(function (response) {\n      return response.json().then(function (response) {\n\n        if (response.results && response.results.length > 0) {\n\n          results = response.results.map((item, i) => { return { ...item.image, ...item.biography, \"id\": i } });\n          //orignalActorArr = results;\n          setorignalActorArr(results)\n          total = results.length;\n          if (total > 12) {\n\n            actorArr = setResposneData(results, 0, 12)\n          } else {\n            actorArr = results\n          }\n          if (value === \"a\") {\n            localStorage.setItem(\"actors\", JSON.stringify(results))\n          }\n          setcardsArr(actorArr)\n          setloader(false)\n        }\n\n      })\n    });\n  }\n\n  window.onscroll = debounce(() => {\n\n\n    if (window.innerHeight + document.documentElement.scrollHeight >= document.scrollingElement.offsetHeight) {\n      // actorArr.concat(orignalActorArr.splice(actorArr.length, 12));\n      //var next = orignalActorArr.splice(0 ,24)\n\n      setcardsArr(cardsArr => cardsArr.concat(orignalActorArr.splice(actorArr.length, actorArr.length + 12)));\n    }\n\n  }, 100);\n\n\n\n  useEffect(() => { getDataByFilter(\"a\") }, []);\n\n\n\n  return (\n\n    <Router >\n\n\n\n      <Switch>\n        <Route exact path={`/reactpro`} >\n\n\n          <div className=\"form-group has-success has-feedback\" >\n            <label className=\"col-sm-2 control-label\" for=\"inputSuccess\">Search</label>\n            <div className=\"col-sm-12\">\n              <input type=\"text\" className=\"form-control\" id=\"inputSuccess\" onChange={(e) => setValue(e.target.value)} />\n              <span className=\"glyphicon glyphicon-ok form-control-feedback\"></span>\n            </div>\n\n            {!loader ? cardsArr.map((data) => {\n\n              return (\n                <Link to={`/reactpro/${data[\"id\"]}`} params={data}><Card style={{ width: '18rem', margin: \"10px\", display: \"inline-block\" }}>\n\n                  {data.url ? <Card.Img variant=\"top\" src={data.url} /> : <Card.Img variant=\"top\" src=\"https://www.superherodb.com/pictures2/portraits/10/100/1508.jpg\" />}\n                  <Card.Body>\n                    <Card.Title>{data.name}</Card.Title>\n                    <Card.Text>\n                      {data[\"full-name\"]}\n                      <br></br>\n                      {data[\"place-of-birth\"]}\n                      <br></br>\n                      {data.publisher}\n\n                    </Card.Text>\n                    <Button variant=\"primary\" >More Details</Button>\n                  </Card.Body>\n                </Card>\n\n                </Link>)\n            }) : <div className=\"loader\"></div>}\n\n\n          </div>\n\n\n\n\n        </Route>\n\n        <Route path=\"reactpro/:id\" render={cardsArr.length > 0 ? (props) => <Details {...props} data={cardsArr} /> : \"\"} />\n\n\n      </Switch>\n\n\n    </Router>\n  )\n\n\n\n\n\n\n}"]},"metadata":{},"sourceType":"module"}