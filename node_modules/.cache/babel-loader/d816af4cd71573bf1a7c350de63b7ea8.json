{"ast":null,"code":"import _objectSpread from\"/Users/manojtanwar/Desktop/react-sxnilq/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/manojtanwar/Desktop/react-sxnilq/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import'./card.css';import Details from'./details';import Card from'react-bootstrap/Card';import Button from'react-bootstrap/Button';import{BrowserRouter as Router,Link,Switch,Route}from\"react-router-dom\";export default function Carts(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orignalActorArr=_useState2[0],setorignalActorArr=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loader=_useState4[0],setloader=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),cardsArr=_useState6[0],setcardsArr=_useState6[1];var results=[];var actorArr=[];var total;var setResposneData=function setResposneData(data,start,end){return data.splice(start,end);};var debounce=function debounce(func,delay){var debounceTimer;return function(){var context=this;var args=arguments;clearTimeout(debounceTimer);debounceTimer=setTimeout(function(){return func.apply(context,args);},delay);};};useEffect(function(){var inputField=document.getElementById(\"inputSuccessSeacrch\");if(inputField){inputField.addEventListener('keydown',debounce(function(e){if(e&&e.target&&e.target.value){getDataByFilter(e.target.value);}else{getDataByFilter(\"a\");}},500));}},[]);function getDataByFilter(value){setloader(true);if(localStorage.getItem(\"actors\")&&value===\"a\"){var result=JSON.parse(localStorage.getItem(\"actors\"));setorignalActorArr(result);setcardsArr(setResposneData(result,0,12));setloader(false);return;}fetch('https://cors-anywhere.herokuapp.com/https://superheroapi.com/api/3070399882980494/search/'+value).then(function(response){return response.json().then(function(response){if(response.results&&response.results.length>0){results=response.results.map(function(item,i){return _objectSpread(_objectSpread(_objectSpread({},item.image),item.biography),{},{\"id\":i});});setorignalActorArr(results);total=results.length;if(total>12){actorArr=setResposneData(results,0,12);}else{actorArr=results;}if(value===\"a\"){localStorage.setItem(\"actors\",JSON.stringify(results));}setcardsArr(actorArr);setloader(false);}});});}window.onscroll=debounce(function(){if(window.innerHeight+document.documentElement.scrollHeight>=document.scrollingElement.offsetHeight){setcardsArr(function(cardsArr){return cardsArr.concat(orignalActorArr.splice(actorArr.length,actorArr.length+12));});}},100);useEffect(function(){getDataByFilter(\"a\");},[]);return/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/reactpro\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group has-success has-feedback\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 \"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"search\",className:\"form-control\",id:\"inputSuccessSeacrch\"}),/*#__PURE__*/React.createElement(\"span\",{className:\"glyphicon glyphicon-ok form-control-feedback\"})),!loader?cardsArr.map(function(data){return/*#__PURE__*/React.createElement(Link,{to:\"/reactpro/\".concat(data[\"id\"]),params:data},/*#__PURE__*/React.createElement(Card,{className:\"cardhover\",style:{width:'18rem',margin:\"10px\",display:\"inline-block\"}},data.url?/*#__PURE__*/React.createElement(Card.Img,{variant:\"top\",src:data.url}):/*#__PURE__*/React.createElement(Card.Img,{variant:\"top\",src:\"https://www.superherodb.com/pictures2/portraits/10/100/1508.jpg\"}),/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Card.Title,null,data.name),/*#__PURE__*/React.createElement(Card.Text,null,data[\"full-name\"],/*#__PURE__*/React.createElement(\"br\",null),data[\"place-of-birth\"],/*#__PURE__*/React.createElement(\"br\",null),data.publisher),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",className:\"detail-btn\"},\"More Details\"))));}):/*#__PURE__*/React.createElement(\"div\",{className:\"loader\"}))),/*#__PURE__*/React.createElement(Route,{path:\"/reactpro/:id\",render:cardsArr.length>0?function(props){return/*#__PURE__*/React.createElement(Details,Object.assign({},props,{data:cardsArr}));}:\"\"})));}","map":{"version":3,"sources":["/Users/manojtanwar/Desktop/react-sxnilq/src/ui-component/cards/Carts.js"],"names":["React","useState","useEffect","useRef","Details","Card","Button","BrowserRouter","Router","Link","Switch","Route","Carts","orignalActorArr","setorignalActorArr","loader","setloader","cardsArr","setcardsArr","results","actorArr","total","setResposneData","data","start","end","splice","debounce","func","delay","debounceTimer","context","args","arguments","clearTimeout","setTimeout","apply","inputField","document","getElementById","addEventListener","e","target","value","getDataByFilter","localStorage","getItem","result","JSON","parse","fetch","then","response","json","length","map","item","i","image","biography","setItem","stringify","window","onscroll","innerHeight","documentElement","scrollHeight","scrollingElement","offsetHeight","concat","width","margin","display","url","name","publisher","props"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './card.css'\nimport Details from './details'\nimport Card from 'react-bootstrap/Card'\nimport Button from 'react-bootstrap/Button'\n\n\nimport {\n  BrowserRouter as Router,\n  Link,\n  Switch,\n  Route\n\n} from \"react-router-dom\";\n\nexport default function Carts() {\n\n  const [orignalActorArr, setorignalActorArr] = useState([])\n  const [loader, setloader] = useState(false)\n  const [cardsArr, setcardsArr] = useState([])\n  let results = []\n  let actorArr = [];\n  let total;\n\n  const setResposneData = (data, start, end) => {\n    return data.splice(start, end);\n  }\n\n\n  const debounce = (func, delay) => {\n    let debounceTimer\n    return function () {\n      const context = this\n      const args = arguments\n      clearTimeout(debounceTimer)\n      debounceTimer\n        = setTimeout(() => func.apply(context, args), delay)\n    }\n  }\n\n  useEffect(() => {\n    var inputField = document.getElementById(\"inputSuccessSeacrch\");\n    if(inputField){\n      inputField.addEventListener('keydown', debounce(function (e) {\n        if (e && e.target && e.target.value) {\n          getDataByFilter(e.target.value)\n        } else {\n          getDataByFilter(\"a\")\n        }\n  \n  \n      }, 500))\n    }\n    \n  }, []);\n\n\n\n\n  function getDataByFilter(value) {\n\n\n    setloader(true)\n    if (localStorage.getItem(\"actors\") && value === \"a\") {\n      let result = JSON.parse(localStorage.getItem(\"actors\"))\n      setorignalActorArr(result)\n      setcardsArr(setResposneData(result, 0, 12))\n      setloader(false)\n      return\n    }\n\n    fetch('https://cors-anywhere.herokuapp.com/https://superheroapi.com/api/3070399882980494/search/' + value).then(function (response) {\n      return response.json().then(function (response) {\n\n        if (response.results && response.results.length > 0) {\n\n          results = response.results.map((item, i) => { return { ...item.image, ...item.biography, \"id\": i } });\n          setorignalActorArr(results)\n          total = results.length;\n          if (total > 12) {\n            actorArr = setResposneData(results, 0, 12)\n          } else {\n            actorArr = results\n          }\n          if (value === \"a\") {\n            localStorage.setItem(\"actors\", JSON.stringify(results))\n          }\n          setcardsArr(actorArr)\n          setloader(false)\n        }\n\n      })\n    });\n  }\n\n  window.onscroll = debounce(() => {\n    if (window.innerHeight + document.documentElement.scrollHeight >= document.scrollingElement.offsetHeight) {\n      setcardsArr(cardsArr => cardsArr.concat(orignalActorArr.splice(actorArr.length, actorArr.length + 12)));\n    }\n  }, 100);\n\n\n\n  useEffect(() => { getDataByFilter(\"a\") }, []);\n\n\n\n  return (\n\n    <Router >\n      <Switch>\n        <Route exact path={`/reactpro`} >\n          <div className=\"form-group has-success has-feedback\" >\n            \n            <div className=\"col-sm-12 \">\n              <input type=\"text\" placeholder=\"search\" className=\"form-control\" id=\"inputSuccessSeacrch\" />\n              <span className=\"glyphicon glyphicon-ok form-control-feedback\"></span>\n            </div>\n            {!loader ? cardsArr.map((data) => {\n              return (\n                <Link to={`/reactpro/${data[\"id\"]}`} params={data}>\n                  \n                  <Card className=\"cardhover\" style={{ width: '18rem', margin: \"10px\", display: \"inline-block\" }}>\n\n                  {data.url ? <Card.Img variant=\"top\" src={data.url} /> : <Card.Img variant=\"top\" src=\"https://www.superherodb.com/pictures2/portraits/10/100/1508.jpg\" />}\n                  <Card.Body>\n                    <Card.Title>{data.name}</Card.Title>\n                    <Card.Text>\n                      {data[\"full-name\"]}\n                      <br></br>\n                      {data[\"place-of-birth\"]}\n                      <br></br>\n                      {data.publisher}\n\n                    </Card.Text>\n                    <Button variant=\"primary\" className=\"detail-btn\" >More Details</Button>\n                  </Card.Body>\n                </Card>\n\n                </Link>)\n            }) : <div className=\"loader\"></div>}\n          </div>\n        </Route>\n        <Route path=\"/reactpro/:id\" render={cardsArr.length > 0 ? (props) => <Details {...props} data={cardsArr} /> : \"\"} />\n      </Switch>\n    </Router>\n  )\n\n\n\n\n\n\n}"]},"metadata":{},"sourceType":"module"}